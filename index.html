<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Shop Pro</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- <link rel="stylesheet" -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div id="page-loading">
        <div class="loading-spinner"></div>
      </div>
      
      
      <nav class="fade-navbar navbar">
        <div class="navbar-container">
          <a class="brand" href="#">E-Shop Pro</a>
          <div class="burger" id="burger-toggle">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <ul class="nav-links" id="nav-menu">
            <li><a href="./index.html">Trang chủ</a></li>
            <li><a href="./orders.html">Đơn hàng</a></li>
            <li><a href="./cart.html">Giỏ hàng</a></li>
          </ul>
        </div>
      </nav>
      
      <div class="user-avatar-container">
        <div class="avatar-wrapper">
          <img id="navbar-avatar" src="./img/default-avatar.png" alt="avatar">
          <img id="google-badge" src="./img/google-icon.png" alt="Google" />
        </div>
      </div>
      
      
      
      
      
      

      

    <section class="hero">
        <div class="hero-text">
           E-Shop<br>Pro
        </div>
        <div class="hero-image">
            <img src="./img/732671e4-06db-455f-ba40-5e0e346de804.png" alt="Banner">
        </div>
    </section>
    
    
    
      
    

    <div class="container my-5">
      <div class="category-grid">
    
        <a href="product-list.html?category=ao">
          <div class="category-item fade-in">
            <i class="ph ph-t-shirt"></i>
            <p>Thời Trang Nam</p>
          </div>
        </a>
    
        <a href="product-list.html?category=dien-tu">
          <div class="category-item fade-in">
            <i class="ph ph-device-mobile"></i>
            <p>Điện Thoại & Phụ Kiện</p>
          </div>
        </a>
    
        <a href="product-list.html?category=dien-tu">
          <div class="category-item fade-in">
            <i class="ph ph-monitor"></i>
            <p>Thiết Bị Điện Tử</p>
          </div>
        </a>
    
        <a href="product-list.html?category=may-tinh">
          <div class="category-item fade-in">
            <i class="ph ph-laptop"></i>
            <p>Máy Tính & Laptop</p>
          </div>
        </a>
    
        <a href="product-list.html?category=may-anh">
          <div class="category-item fade-in">
            <i class="ph ph-camera"></i>
            <p>Máy Ảnh & Máy Quay Phim</p>
          </div>
        </a>
    
        <a href="product-list.html?category=dong-ho">
          <div class="category-item fade-in">
            <i class="ph ph-clock"></i>
            <p>Đồng Hồ</p>
          </div>
        </a>
    
        <a href="product-list.html?category=giay">
          <div class="category-item fade-in">
            <i class="ph ph-sneaker"></i>
            <p>Giày Dép Nam</p>
          </div>
        </a>
    
        <a href="product-list.html?category=gia-dung">
          <div class="category-item fade-in">
            <i class="ph ph-cooking-pot"></i>
            <p>Thiết Bị Điện Gia Dụng</p>
          </div>
        </a>
    
        <a href="product-list.html?category=the-thao">
          <div class="category-item fade-in">
            <i class="ph ph-soccer-ball"></i>
            <p>Thể Thao & Du Lịch</p>
          </div>
        </a>
    
        <a href="product-list.html?category=xe">
          <div class="category-item fade-in">
            <i class="ph ph-car"></i>
            <p>Ô Tô & Xe Máy & Xe Đạp</p>
          </div>
        </a>
    
        <a href="product-list.html?category=thoi-trang-nu">
          <div class="category-item fade-in">
            <i class="ph ph-dress"></i>
            <p>Thời Trang Nữ</p>
          </div>
        </a>
    
        <a href="product-list.html?category=me-be">
          <div class="category-item fade-in">
            <i class="ph ph-baby"></i>
            <p>Mẹ & Bé</p>
          </div>
        </a>
    
        <a href="product-list.html?category=nha-cua">
          <div class="category-item fade-in">
            <i class="ph ph-armchair"></i>
            <p>Nhà Cửa & Đời Sống</p>
          </div>
        </a>
    
        <a href="product-list.html?category=sac-dep">
          <div class="category-item fade-in">
            <i class="ph ph-star"></i>
            <p>Sắc Đẹp</p>
          </div>
        </a>
    
      </div>
    </div>

    <div class="container my-5">
      <a href="product-list.html?category=all" class="all-products-link">
        <div class="category-item fade-in">
          <i class="ph ph-grid-four"></i>
          <p>Tất Cả Sản Phẩm</p>
        </div>
      </a>
    </div>
    
    
    
      

    <div class="container my-5">
      <h2 class="text-center" style="color: white;">Sản Phẩm Nổi Bật</h2>
      <div class="row" id="featured-products">
        <!-- JS sẽ render tự động vào đây -->
      </div>
    </div>
    

    <footer class="custom-footer">
        <div class="footer-content">
            <p>&copy; 2025 E-Shop Pro. Tất cả quyền được bảo lưu.</p>
            <p>
                <a href="#">Chính Sách Bảo Mật</a> |
                <a href="#">Điều Khoản Dịch Vụ</a>
            </p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.7/bundled/lenis.min.js"></script>
    <!-- <script src="./js/navbar.js"></script> -->
    <script src="./js/scroll-animate.js"></script>
    <script>
        const isLoggedIn = localStorage.getItem("userLoggedIn");
    </script>
    <script src="./js/check_session.js"></script>

    <script>
        window.onload = () => {
            const SESSION_LIMIT = 1000 * 60 * 60 * 2;
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const loginTime = localStorage.getItem('loginTime');
            const welcomeMsg = document.getElementById('welcome-msg');
    
            if (user) {
                const name = user.displayName || user.email || "Người dùng";
                const welcomeMsg = document.getElementById('welcome-msg');
                const avatar = document.getElementById('user-avatar');

                if (welcomeMsg) welcomeMsg.innerText = "Xin chào, " + name;
                if (avatar && user.photoURL) {
                    avatar.src = user.photoURL;
                    avatar.style.display = "inline-block";
                }
                const now = Date.now();
                if (!loginTime) {
                    localStorage.setItem('loginTime', now);
                } else {
                    const diff = now - parseInt(loginTime);
                    if (diff >= SESSION_LIMIT) {
                        alert("Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.");
                        logout();
                    }
                }
            } else {
                window.location.href = "./login.html";
            }
    
            document.getElementById('logout-btn')?.addEventListener('click', logout);
    
            function logout() {
                localStorage.removeItem('currentUser');
                localStorage.removeItem('loginTime');
                window.location.href = "./login.html";
            }
        }
    </script>
    <script>
        window.addEventListener("load", () => {
        const loader = document.getElementById("page-loading");
        loader.style.opacity = 0;
        setTimeout(() => loader.style.display = "none", 600);
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
        const burger = document.getElementById("burger-toggle");
        const navMenu = document.getElementById("nav-menu");
    
        burger.addEventListener("click", () => {
            burger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });
        });
    </script>
  
  
  <script src="./js/data.js"></script>
  <script>
    const featured = document.getElementById("featured-products");
    const selectedProducts = productData.slice(0, 4); // lấy 4 sản phẩm đầu
  
    featured.innerHTML = selectedProducts.map(p => `
      <div class="col-md-4">
        <div class="card fade-in">
          <img src="${p.image}" class="card-img-top" alt="${p.name}">
          <div class="card-body">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text">${p.description}</p>
            <a href="product-detail.html?id=${p.id}" class="btn btn-primary">Xem Chi Tiết</a>
          </div>
        </div>
      </div>
    `).join("");
  </script>
  


<!-- <script src="./js/user-info.js"></script> -->
<script src="./js/user-profile-widget.js"></script>

</body>

</html>
